CREATE DATABASE RPG;

CREATE TABLE RACAS(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_RACA VARCHAR(20) NOT NULL UNIQUE
)

CREATE TABLE CLASSES(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_CLASSE VARCHAR(20) NOT NULL UNIQUE
)

CREATE TABLE TIPO_EQUIPS(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_TIPO VARCHAR(30) NOT NULL UNIQUE
)

CREATE TABLE TIPO_MONTARIA(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_TIPO VARCHAR(20) NOT NULL UNIQUE
)

CREATE TABLE TIPO_INIMIGO(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_TIPO VARCHAR(20) NOT NULL UNIQUE
)

CREATE TABLE ATRIBUTOS(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    VIDA INT NOT NULL,
    INTELIGENCIA INT NOT NULL,
    DESTREZA INT NOT NULL,
    ARMADURA INT NOT NULL,
    FURTIVIDADE INT NOT NULL,
    SORTE INT NOT NULL,
    DANO INT NOT NULL
)

CREATE TABLE MONTARIA(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(30) NOT NULL,
    TIPO_MONTARIA INT NOT NULL,
    FOREIGN KEY (TIPO_MONTARIA) REFERENCES TIPO_MONTARIA(CODIGO)
)

CREATE TABLE PERSONAGEM(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(15) NOT NULL,
    RACA INT NOT NULL,
    CLASSE INT NOT NULL,
    MONTARIA INT NOT NULL,
    ATRIBUTOS INT NOT NULL,
    FOREIGN KEY (RACA) REFERENCES RACAS(CODIGO),
    FOREIGN KEY (CLASSE) REFERENCES CLASSES(CODIGO),
    FOREIGN KEY (MONTARIA) REFERENCES MONTARIA(CODIGO),
    FOREIGN KEY (ATRIBUTOS) REFERENCES ATRIBUTOS(CODIGO)
)

CREATE TABLE CONTA(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    EMAIL VARCHAR(50) NOT NULL UNIQUE,
    SENHA VARCHAR(16) NOT NULL,
    NOME VARCHAR(15) NOT NULL,
    DATA_NASC DATE NOT NULL,
    PERSONAGEM INT NOT NULL,
    FOREIGN KEY (PERSONAGEM) REFERENCES PERSONAGEM(CODIGO)
)

CREATE TABLE EQUIPAMENTOS(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    NOME_EQUIP VARCHAR(30) NOT NULL,
    TIPO_EQUIP INT NOT NULL,
    VALOR_VENDA INT NOT NULL,
    ATRIBUTOS INT NOT NULL,
    FOREIGN KEY (TIPO_EQUIP) REFERENCES TIPO_EQUIPS(CODIGO),
    FOREIGN KEY (ATRIBUTOS) REFERENCES ATRIBUTOS(CODIGO)
)

CREATE TABLE MOCHILA(
    PERSONAGEM INT NOT NULL,
    EQUIPAMENTO INT NOT NULL,
    QUANTIDADE INT NOT NULL,
    FOREIGN KEY (PERSONAGEM) REFERENCES PERSONAGEM(CODIGO),
    FOREIGN KEY (EQUIPAMENTO) REFERENCES EQUIPAMENTOS(CODIGO)
)

CREATE TABLE INIMIGOS(
    CODIGO INT PRIMARY KEY AUTO_INCREMENT,
    TIPO_INIMIGO INT NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    ATRIBUTOS INT NOT NULL,
    ITEM_DROP INT NOT NULL,
    FOREIGN KEY (TIPO_INIMIGO) REFERENCES TIPO_INIMIGO(CODIGO),
    FOREIGN KEY (ATRIBUTOS) REFERENCES ATRIBUTOS(CODIGO),
    FOREIGN KEY (ITEM_DROP) REFERENCES EQUIPAMENTOS(CODIGO)
)